<!DOCTYPE HTML>
<html>
	<head>
		<title>HoxTok</title>
		<link rel="shortcut icon" href="/images/h.png">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="/js/jquery.min.js"></script>
		<script src="/js/skel.min.js"></script>
		<script src="/js/skel-layers.min.js"></script>
		<script src="/js/init.js"></script>
		<script src="//d3js.org/d3.v3.min.js"></script>
		<script src="//d3js.org/topojson.v1.min.js"></script>
  		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<style>
			@import url(/css/style.css?aea6f0a);
		</style>
		<noscript>
			<link rel="stylesheet" href="/css/skel.css" />
			<link rel="stylesheet" href="/css/style.css" />
			<link rel="stylesheet" href="/css/style-xlarge.css" />
		</noscript>
	</head>

	<body class="wrapper style3 special">
		<header id="header">
			<h3 style="padding-left:1.2%; padding-top:1.2%"><strong><a href="/index.html#">HoxTok</a></strong></h3>
			<nav id="nav">
				<ul>
					<li><a href="/index.html#">Home</a></li>
					<li><a href="/powerrankings.html">Power Rankings</a></li>
					<li><a href="/visualizations.html">Visualizations</a></li>
				</ul>
			</nav>
		</header>

		<section id="one" style="margin:auto" class="wrapper style3 special">
			<div class="container">
				<h2 style="color:white">Seahawks</h2>
				<h4>Offense - Receiving</h4>
				<br></br>
				<div id="donut3d" style="float:left; padding-left:28%"></div>
				<div style="float:left; padding-left:5%; padding-top:5%">
					<p id="displayWeek"></p>
					<button class="btn btn-primary" onClick="changeData()">Next Week</button>
					<br></br>
					<form role="form">
				    	<div class="form-group">
				      		<label for="category">Select list (select one):</label>
						  	<select class="form-control" id="category" style="width:98.7344px; margin:auto; color:black; background:white; border-color:black">
						    	<option value="rec">rec</option>
						    	<option value="yds">yds</option>
						    	<option value="td">td</option>
						    	<option value="lg">lg</option>
						  	</select>
						</div>
					</form>
				</div>
				<br></br>
				<br></br>
				<br></br>
				<br></br>
				<script src="/js/Donut3D.js"></script>
				<script>
					var week = 1;
					var stats;
					var e = document.getElementById("category");
					var cat = e.options[e.selectedIndex].value;
					var temp = 0;
					var count = 0;

					function selectData() {
						var receivingStats = [];
						/*var receivingStats = weeklyArray();*/

						receivingStats.push({week:50, name:"D. Baldwin", rec:0, yds:0, td:0, lg:0, color:"#FF9900"});
						receivingStats.push({week:50, name:"T. Lockett", rec:0, yds:0, td:0, lg:0, color:"#109618"});
						receivingStats.push({week:50, name:"J. Kearse", rec:0, yds:0, td:0, lg:0, color:"#DC3912"});
						receivingStats.push({week:50, name:"J. Graham", rec:0, yds:0, td:0, lg:0, color:"#3366CC"});
						receivingStats.push({week:50, name:"F. Jackson", rec:0, yds:0, td:0, lg:0, color:"#809fff"});
						receivingStats.push({week:50, name:"L. Willson", rec:0, yds:0, td:0, lg:0, color:"#99ff99"});
						receivingStats.push({week:50, name:"C. Helfet", rec:0, yds:0, td:0, lg:0, color:"#ffff80"});
						receivingStats.push({week:50, name:"M. Lynch", rec:0, yds:0, td:0, lg:0, color:"#990099"});
						receivingStats.push({week:50, name:"T. Rawls", rec:0, yds:0, td:0, lg:0, color:"#001a13"});
						receivingStats.push({week:50, name:"R. Lockette", rec:0, yds:0, td:0, lg:0, color:"#ff99ff"});
						receivingStats.push({week:50, name:"C. Matthews", rec:0, yds:0, td:0, lg:0, color:"#000d33"});
						receivingStats.push({week:50, name:"C. Coffman", rec:0, yds:0, td:0, lg:0, color:"#006666"});
						receivingStats.push({week:50, name:"K. Smith", rec:0, yds:0, td:0, lg:0, color:"#4c4d00"});
						receivingStats.push({week:50, name:"C. Michael", rec:0, yds:0, td:0, lg:0, color:"#99ffff"});
						receivingStats.push({week:50, name:"B. Daniels", rec:0, yds:0, td:0, lg:0, color:"#ff9999"});
						receivingStats.push({week:50, name:"D. Coleman", rec:0, yds:0, td:0, lg:0, color:"#003300"});
						receivingStats.push({week:50, name:"P. Richardson", rec:0, yds:0, td:0, lg:0, color:"#4d004c"});
						receivingStats.push({week:50, name:"W. Tukuafu", rec:0, yds:0, td:0, lg:0, color:"#4d2600"});
						receivingStats.push({week:50, name:"K. Williams", rec:0, yds:0, td:0, lg:0, color:"#ffcc99"});

						var newReceivingStats = newWeeklyArray(receivingStats);

						return newReceivingStats.map(function(d) {
							if(cat=="rec"){
								return {label:d.name, value:d.rec, color:d.color};
							}
							else if(cat=="yds"){
								return {label:d.name, value:d.yds, color:d.color};
							}
							else if(cat=="td"){
								return {label:d.name, value:d.td, color:d.color};
							}
							else if(cat=="lg"){
								return {label:d.name, value:d.lg, color:d.color};
							}
						});
					}

					function newWeeklyArray(array) {
						var newWeeklyArray = array;
						if (week == 9) week = 10;
						for (var i = 0; i < newWeeklyArray.length; i++) {
							for (var j = temp; j < (temp + newWeeklyArray.length); j++) {
								if (stats[j] && newWeeklyArray[i].name == stats[j].name && stats[j].week == week){
									count++;
									newWeeklyArray[i].rec = stats[j].rec;
									newWeeklyArray[i].yds = stats[j].yds;
									newWeeklyArray[i].td = stats[j].td;
									newWeeklyArray[i].lg = stats[j].lg;
									newWeeklyArray[i].week = week;
									break;
								}
							}
						}
						if (week >= 17){
							temp = 0;
							count = 0;
						}
						else{
							temp = count;
						}
						console.log(count);
						return newWeeklyArray;
					}

					function changeData() {
						e = document.getElementById("category");
						cat = e.options[e.selectedIndex].value;
						Donut3D.transition("receivingDonut", selectData(), 130, 100, 30, 0.4);
						/*Donut3D.transition("quotesDonut", selectData(), 130, 100, 30, 0);*/
						document.getElementById("displayWeek").innerHTML = "Week " + week;
						if (week < 17) {
							week++;
						}
						else {
							week = 1;
						}
					}
					
					d3.tsv("/data/receiving_data/seahawks_receiving.txt", function(data) {
						stats = data;
						var svg = d3.select("#donut3d").append("svg").attr("width",300).attr("height",285);
						svg.append("g").attr("id","receivingDonut");
						/*svg.append("g").attr("id","quotesDonut");*/
						Donut3D.draw("receivingDonut", selectData(), 150, 150, 130, 100, 30, 0.4);
						document.getElementById("displayWeek").innerHTML = "Week " + week;
						week++;
						/*Donut3D.draw("quotesDonut", selectData(), 450, 150, 130, 100, 30, 0);*/
					});

				</script>
			</div>
		</section>

		<section id="two" style="margin:auto" class="wrapper style3 special">
			<div class="container">
				<input type="checkbox"><span style="color:white"> Sort Values<br></span>
				<div id="sortablebarchart"></div>
				<script src="/js/sortablebarchart.js"></script>
			</div>
		</section>

		<footer id="footer">
			<div class="container">
				<ul class="icons">
					<li><a href="https://www.facebook.com/andy.thompson.520562" class="icon fa-facebook"></a></li>
					<li><a href="#" class="icon fa-twitter"></a></li>
					<li><a href="#" class="icon fa-instagram"></a></li>
				</ul>
			</div>
		</footer>

	</body>
</html>