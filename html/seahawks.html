<!DOCTYPE HTML>
<html>
	<head>
		<title>HoxTok</title>
		<link rel="shortcut icon" href="/images/h.png">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="/js/jquery.min.js"></script>
		<script src="/js/skel.min.js"></script>
		<script src="/js/skel-layers.min.js"></script>
		<script src="/js/init.js"></script>
		<script src="//d3js.org/d3.v3.min.js"></script>
		<script src="//d3js.org/topojson.v1.min.js"></script>
		<style>
			@import url(/css/style.css?aea6f0a);
		</style>
		<noscript>
			<link rel="stylesheet" href="/css/skel.css" />
			<link rel="stylesheet" href="/css/style.css" />
			<link rel="stylesheet" href="/css/style-xlarge.css" />
		</noscript>
	</head>

	<body class="wrapper style3 special">
		<header id="header">
			<h1><strong><a href="/index.html#">HoxTok</a></strong></h1>
			<nav id="nav">
				<ul>
					<li><a href="/index.html#">Home</a></li>
					<li><a href="/powerrankings.html">Power Rankings</a></li>
					<li><a href="/visualizations.html">Visualizations</a></li>
				</ul>
			</nav>
		</header>

		<section id="one" style="margin:auto" class="wrapper style3 special">
			<div class="container">
				<h2 style="color:white">Seahawks</h2>
				<h4>Offense</h4>
				<div id="donut3d" style="margin:auto"></div>
				<div style="position: relative; left: 275px; bottom:250px">
				<p id="displayWeek"></p>
				<button onClick="changeData()">Change Data</button>
				<br></br>
				<form>
				  	<select id="category" style="width:7%; margin:auto; color:white; background:black;border-color:white">
				    	<option value="rec">rec</option>
				    	<option value="yds">yds</option>
				    	<option value="td">td</option>
				    	<option value="lg">lg</option>
				  	</select>
				</form>
				</div>
				<script src="/js/Donut3D.js"></script>
				<script>
					var week = 1;
					var stats;
					var e = document.getElementById("category");
					var cat = e.options[e.selectedIndex].value;

					function selectData(){
						return stats.map(function(d){
							if(cat=="rec"){
								if(d.week==week){
									return {label:d.name, value:d.rec, color:returnColor(d)};
								}
								else if (week > 17){
									week = 1;
									return {label:d.name, value:d.rec, color:returnColor(d)};
								}
								else if (week == 9){ /* bye week */
									week = 10;
									return {label:d.name, value:d.rec, color:returnColor(d)};
								}
								else {
									return {label:"", value:0, color:returnColor(d)};
								}
							}
							else if(cat=="yds"){
								if(d.week==week){
									return {label:d.name, value:d.yds, color:returnColor(d)};
								}
								else if (week > 17){
									week = 1;
									return {label:d.name, value:d.yds, color:returnColor(d)};
								}
								else if (week == 9){ /* bye week */
									week = 10;
									return {label:d.name, value:d.yds, color:returnColor(d)};
								}
								else {
									return {label:"", value:0, color:returnColor(d)};
								}
							}
							else if(cat=="td"){
								if(d.week==week){
									return {label:d.name, value:d.td, color:returnColor(d)};
								}
								else if (week > 17){
									week = 1;
									return {label:d.name, value:d.td, color:returnColor(d)};
								}
								else if (week == 9){ /* bye week */
									week = 10;
									return {label:d.name, value:d.td, color:returnColor(d)};
								}
								else {
									return {label:"", value:0, color:returnColor(d)};
								}
							}
							else if(cat=="lg"){
								if(d.week==week){
									return {label:d.name, value:d.lg, color:returnColor(d)};
								}
								else if (week > 17){
									week = 1;
									return {label:d.name, value:d.lg, color:returnColor(d)};
								}
								else if (week == 9){ /* bye week */
									week = 10;
									return {label:d.name, value:d.lg, color:returnColor(d)};
								}
								else {
									return {label:"", value:0, color:returnColor(d)};
								}
							}
						});
					}

					function returnColor(d){
						if (d.name=="J. Kearse") return "#DC3912";
						else if (d.name=="J. Graham") return "#3366CC";
						else if (d.name=="D. Baldwin") return "#FF9900";
						else if (d.name=="T. Lockett") return "#109618";
						else if (d.name=="M. Lynch") return "#990099";
						else if (d.name=="F. Jackson") return "#809fff";
						else if (d.name=="C. Matthews") return "#000d33";
						else if (d.name=="L. Willson") return "#99ff99";
						else if (d.name=="D. Coleman") return "#003300";
						else if (d.name=="B. Daniels") return "#ff9999";
						else if (d.name=="R. Lockette") return "#ff99ff";
						else if (d.name=="P. Richardson") return "#4d004c";
						else if (d.name=="C. Helfet") return "#ffff80";
						else if (d.name=="K. Smith") return "#4c4d00";
						else if (d.name=="C. Michael") return "#99ffff";
						else if (d.name=="C. Coffman") return "#006666";
						else if (d.name=="K. Williams") return "#ffcc99";
						else if (d.name=="W. Tukuafu") return "#4d2600";
					}

					function changeData(){
						e = document.getElementById("category");
						cat = e.options[e.selectedIndex].value;
						Donut3D.transition("receivingDonut", selectData(), 130, 100, 30, 0.4);
						/*Donut3D.transition("quotesDonut", selectData(), 130, 100, 30, 0);*/
						document.getElementById("displayWeek").innerHTML = "week " + week;
						week++;
					}
					
					d3.tsv("/data/receiving_data/seahawks_receiving.txt", function(data) {
						stats = data;
						var svg = d3.select("#donut3d").append("svg").attr("width",300).attr("height",285);
						svg.append("g").attr("id","receivingDonut");
						/*svg.append("g").attr("id","quotesDonut");*/
						Donut3D.draw("receivingDonut", selectData(), 150, 150, 130, 100, 30, 0.4);
						document.getElementById("displayWeek").innerHTML = "week " + week;
						week++;
						/*Donut3D.draw("quotesDonut", selectData(), 450, 150, 130, 100, 30, 0);*/
					});
					
				</script>
			</div>
		</section>

		<section id="two" style="margin:auto" class="wrapper style3 special">
			<div class="container">
				<input type="checkbox"><span style="color:white"> Sort Values<br></span>
				<div id="sortablebarchart"></div>
				<script src="/js/sortablebarchart.js"></script>
			</div>
		</section>

		<footer id="footer">
			<div class="container">
				<ul class="icons">
					<li><a href="https://www.facebook.com/andy.thompson.520562" class="icon fa-facebook"></a></li>
					<li><a href="#" class="icon fa-twitter"></a></li>
					<li><a href="#" class="icon fa-instagram"></a></li>
				</ul>
			</div>
		</footer>

	</body>
</html>